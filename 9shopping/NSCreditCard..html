<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Pago con Tarjeta de Crédito</title>
    <script>
        // Función para validar que solo se ingresen números
        function validateNumberInput(input) {
            // Reemplaza cualquier caracter no numérico por una cadena vacía
            input.value = input.value.replace(/\D/g, '');
        }

        // Función para validar que solo se ingresen números y máximo 3 caracteres
        function validateCveNumber(input) {
            // Reemplaza cualquier caracter no numérico por una cadena vacía
            input.value = input.value.replace(/\D/g, '');
            // Limita la longitud del campo a 3 caracteres
            if (input.value.length > 3) {
                input.value = input.value.slice(0, 3);
            }
        }

        // Función para validar el formato de la fecha de caducidad (MM/AA)
        function validateExpirationDate(input) {
            // Reemplaza cualquier caracter no numérico por una cadena vacía
            input.value = input.value.replace(/\D/g, '');
            // Limita la longitud del campo a 5 caracteres (MM/AA)
            if (input.value.length > 5) {
                input.value = input.value.slice(0, 5);
            }
            // Formatea automáticamente la fecha de caducidad al formato MM/AA (si es posible)
            if (input.value.length >= 2 && input.value.indexOf('/') === -1) {
                input.value = input.value.slice(0, 2) + '/' + input.value.slice(2);
            }
        }
    </script>
</head>
<body>
    <h1>Pago con Tarjeta de Crédito</h1>
    <form action="Payment_Methods_Nuevo.php" method="post">
        <input type="hidden" name="metodo_pago" value="tarjeta_credito">
        <label for="cardholder">Titular de la Tarjeta:</label><br>
        <input type="text" id="cardholder" name="cardholder" required><br>
        <label for="card_number">Número de Tarjeta:</label><br>
        <!-- Se agrega el atributo oninput para llamar a la función de validación en tiempo real -->
        <input type="text" id="card_number" name="card_number" required maxlength="16" oninput="validateNumberInput(this)"><br>
        <label for="cve_number">Número de Seguridad (CVE):</label><br>
        <!-- Se agrega el atributo oninput para llamar a la función de validación en tiempo real -->
        <input type="text" id="cve_number" name="cve_number" required maxlength="3" oninput="validateCveNumber(this)"><br>
        <label for="expiration_date">Fecha de Expiración (MM/AA):</label><br>
        <!-- Se agrega el atributo oninput para llamar a la función de validación en tiempo real -->
        <input type="text" id="expiration_date" name="expiration_date" required maxlength="5" oninput="validateExpirationDate(this)"><br><br>
        <button type="submit">Pagar con Tarjeta de Crédito</button>
    </form>
</body>
</html>
